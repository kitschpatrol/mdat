#!/usr/bin/env node
var wt=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')});var tn="0.0.0";import{notStrictEqual as Si,strictEqual as Mi}from"assert";var si={right:ci,center:fi},ri=0,le=1,oi=2,ce=3,Ee=class{constructor(t){var e;this.width=t.width,this.wrap=(e=t.wrap)!==null&&e!==void 0?e:!0,this.rows=[]}span(...t){let e=this.div(...t);e.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let e=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(e),e}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let e=t.split(`
`).map(i=>i.split("	")),n=0;return e.forEach(i=>{i.length>1&&at.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),at.stringWidth(i[0])))}),e.forEach(i=>{this.div(...i.map((o,a)=>({text:o.trim(),padding:this.measurePadding(o),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let e=at.stripAnsi(t);return[0,e.match(/\s*$/)[0].length,0,e.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(e=>{this.rowToString(e,t)}),t.filter(e=>!e.hidden).map(e=>e.text).join(`
`)}rowToString(t,e){return this.rasterize(t).forEach((n,i)=>{let o="";n.forEach((a,c)=>{let{width:b}=t[c],O=this.negatePadding(t[c]),p=a;if(O>at.stringWidth(a)&&(p+=" ".repeat(O-at.stringWidth(a))),t[c].align&&t[c].align!=="left"&&this.wrap){let m=si[t[c].align];p=m(p,O),at.stringWidth(p)<O&&(p+=" ".repeat((b||0)-at.stringWidth(p)-1))}let u=t[c].padding||[0,0,0,0];u[ce]&&(o+=" ".repeat(u[ce])),o+=en(t[c],p,"| "),o+=p,o+=en(t[c],p," |"),u[le]&&(o+=" ".repeat(u[le])),i===0&&e.length>0&&(o=this.renderInline(o,e[e.length-1]))}),e.push({text:o.replace(/ +$/,""),span:t.span})}),e}renderInline(t,e){let n=t.match(/^ */),i=n?n[0].length:0,o=e.text,a=at.stringWidth(o.trimRight());return e.span?this.wrap?i<a?t:(e.hidden=!0,o.trimRight()+" ".repeat(i-a)+t.trimLeft()):(e.hidden=!0,o+t):t}rasterize(t){let e=[],n=this.columnWidths(t),i;return t.forEach((o,a)=>{o.width=n[a],this.wrap?i=at.wrap(o.text,this.negatePadding(o),{hard:!0}).split(`
`):i=o.text.split(`
`),o.border&&(i.unshift("."+"-".repeat(this.negatePadding(o)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(o)+2)+"'")),o.padding&&(i.unshift(...new Array(o.padding[ri]||0).fill("")),i.push(...new Array(o.padding[oi]||0).fill(""))),i.forEach((c,b)=>{e[b]||e.push([]);let O=e[b];for(let p=0;p<a;p++)O[p]===void 0&&O.push("");O.push(c)})}),e}negatePadding(t){let e=t.width||0;return t.padding&&(e-=(t.padding[ce]||0)+(t.padding[le]||0)),t.border&&(e-=4),e}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||at.stringWidth(a.text));let e=t.length,n=this.width,i=t.map(a=>{if(a.width)return e--,n-=a.width,a.width}),o=e?Math.floor(n/e):0;return i.map((a,c)=>a===void 0?Math.max(o,ai(t[c])):a)}};function en(s,t,e){return s.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?e:"  ":""}function ai(s){let t=s.padding||[],e=1+(t[ce]||0)+(t[le]||0);return s.border?e+4:e}function li(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function ci(s,t){s=s.trim();let e=at.stringWidth(s);return e<t?" ".repeat(t-e)+s:s}function fi(s,t){s=s.trim();let e=at.stringWidth(s);return e>=t?s:" ".repeat(t-e>>1)+s}var at;function nn(s,t){return at=t,new Ee({width:s?.width||li(),wrap:s?.wrap})}var sn=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function Pe(s){return s.replace(sn,"")}function rn(s,t){let[e,n]=s.match(sn)||["",""];s=Pe(s);let i="";for(let o=0;o<s.length;o++)o!==0&&o%t===0&&(i+=`
`),i+=s.charAt(o);return e&&n&&(i=`${e}${i}${n}`),i}function Se(s){return nn(s,{stringWidth:t=>[...t].length,stripAnsi:Pe,wrap:rn})}import{dirname as on,resolve as an}from"path";import{readdirSync as hi,statSync as ui}from"fs";function ln(s,t){let e=an(".",s),n;for(ui(e).isDirectory()||(e=on(e));;){if(n=t(e,hi(e)),n)return an(e,n);if(e=on(n=e),n===e)break}}import{inspect as Ii}from"util";import{readFileSync as $i}from"fs";import{fileURLToPath as vi}from"url";import{format as mi}from"util";import{normalize as gi,resolve as bi}from"path";function Dt(s){if(s!==s.toLowerCase()&&s!==s.toUpperCase()||(s=s.toLowerCase()),s.indexOf("-")===-1&&s.indexOf("_")===-1)return s;{let e="",n=!1,i=s.match(/^-+/);for(let o=i?i[0].length:0;o<s.length;o++){let a=s.charAt(o);n&&(n=!1,a=a.toUpperCase()),o!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(e+=a)}return e}}function fe(s,t){let e=s.toLowerCase();t=t||"-";let n="";for(let i=0;i<s.length;i++){let o=e.charAt(i),a=s.charAt(i);o!==a&&i>0?n+=`${t}${e.charAt(i)}`:n+=a}return n}function he(s){return s==null?!1:typeof s=="number"||/^0x[0-9a-f]+$/i.test(s)?!0:/^0[^.]/.test(s)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(s)}function cn(s){if(Array.isArray(s))return s.map(a=>typeof a!="string"?a+"":a);s=s.trim();let t=0,e=null,n=null,i=null,o=[];for(let a=0;a<s.length;a++){if(e=n,n=s.charAt(a),n===" "&&!i){e!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),o[t]||(o[t]=""),o[t]+=n}return o}var ht;(function(s){s.BOOLEAN="boolean",s.STRING="string",s.NUMBER="number",s.ARRAY="array"})(ht||(ht={}));var At,ue=class{constructor(t){At=t}parse(t,e){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},e),i=cn(t),o=typeof t=="string",a=di(Object.assign(Object.create(null),n.alias)),c=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),b=Object.assign(Object.create(null),n.default),O=n.configObjects||[],p=n.envPrefix,u=c["populate--"],m=u?"--":"_",_=Object.create(null),A=Object.create(null),y=n.__||At.format,d={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},z=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,L=new RegExp("^--"+c["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(l){let h=typeof l=="object"?l.key:l,w=Object.keys(l).map(function(g){return{boolean:"bools",string:"strings",number:"numbers"}[g]}).filter(Boolean).pop();w&&(d[w][h]=!0),d.arrays[h]=!0,d.keys.push(h)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(l){d.bools[l]=!0,d.keys.push(l)}),[].concat(n.string||[]).filter(Boolean).forEach(function(l){d.strings[l]=!0,d.keys.push(l)}),[].concat(n.number||[]).filter(Boolean).forEach(function(l){d.numbers[l]=!0,d.keys.push(l)}),[].concat(n.count||[]).filter(Boolean).forEach(function(l){d.counts[l]=!0,d.keys.push(l)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(l){d.normalize[l]=!0,d.keys.push(l)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([l,h])=>{typeof h=="number"&&(d.nargs[l]=h,d.keys.push(l))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([l,h])=>{typeof h=="function"&&(d.coercions[l]=h,d.keys.push(l))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(l){d.configs[l]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([l,h])=>{(typeof h=="boolean"||typeof h=="function")&&(d.configs[l]=h)})),Nt(n.key,a,n.default,d.arrays),Object.keys(b).forEach(function(l){(d.aliases[l]||[]).forEach(function(h){b[h]=b[l]})});let T=null;ae();let U=[],G=Object.assign(Object.create(null),{_:[]}),Et={};for(let l=0;l<i.length;l++){let h=i[l],w=h.replace(/^-{3,}/,"---"),g,f,S,j,$,it;if(h!=="--"&&/^-/.test(h)&&J(h))gt(h);else if(w.match(/^---+(=|$)/)){gt(h);continue}else if(h.match(/^--.+=/)||!c["short-option-groups"]&&h.match(/^-.+=/))j=h.match(/^--?([^=]+)=([\s\S]*)$/),j!==null&&Array.isArray(j)&&j.length>=3&&(F(j[1],d.arrays)?l=Ft(l,j[1],i,j[2]):F(j[1],d.nargs)!==!1?l=Qt(l,j[1],i,j[2]):B(j[1],j[2],!0));else if(h.match(L)&&c["boolean-negation"])j=h.match(L),j!==null&&Array.isArray(j)&&j.length>=2&&(f=j[1],B(f,F(f,d.arrays)?[!1]:!1));else if(h.match(/^--.+/)||!c["short-option-groups"]&&h.match(/^-[^-]+/))j=h.match(/^--?(.+)/),j!==null&&Array.isArray(j)&&j.length>=2&&(f=j[1],F(f,d.arrays)?l=Ft(l,f,i):F(f,d.nargs)!==!1?l=Qt(l,f,i):($=i[l+1],$!==void 0&&(!$.match(/^-/)||$.match(z))&&!F(f,d.bools)&&!F(f,d.counts)||/^(true|false)$/.test($)?(B(f,$),l++):B(f,Z(f))));else if(h.match(/^-.\..+=/))j=h.match(/^-([^=]+)=([\s\S]*)$/),j!==null&&Array.isArray(j)&&j.length>=3&&B(j[1],j[2]);else if(h.match(/^-.\..+/)&&!h.match(z))$=i[l+1],j=h.match(/^-(.\..+)/),j!==null&&Array.isArray(j)&&j.length>=2&&(f=j[1],$!==void 0&&!$.match(/^-/)&&!F(f,d.bools)&&!F(f,d.counts)?(B(f,$),l++):B(f,Z(f)));else if(h.match(/^-[^-]+/)&&!h.match(z)){S=h.slice(1,-1).split(""),g=!1;for(let rt=0;rt<S.length;rt++){if($=h.slice(rt+2),S[rt+1]&&S[rt+1]==="="){it=h.slice(rt+3),f=S[rt],F(f,d.arrays)?l=Ft(l,f,i,it):F(f,d.nargs)!==!1?l=Qt(l,f,i,it):B(f,it),g=!0;break}if($==="-"){B(S[rt],$);continue}if(/[A-Za-z]/.test(S[rt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test($)&&F($,d.bools)===!1){B(S[rt],$),g=!0;break}if(S[rt+1]&&S[rt+1].match(/\W/)){B(S[rt],$),g=!0;break}else B(S[rt],Z(S[rt]))}f=h.slice(-1)[0],!g&&f!=="-"&&(F(f,d.arrays)?l=Ft(l,f,i):F(f,d.nargs)!==!1?l=Qt(l,f,i):($=i[l+1],$!==void 0&&(!/^(-|--)[^-]/.test($)||$.match(z))&&!F(f,d.bools)&&!F(f,d.counts)||/^(true|false)$/.test($)?(B(f,$),l++):B(f,Z(f))))}else if(h.match(/^-[0-9]$/)&&h.match(z)&&F(h.slice(1),d.bools))f=h.slice(1),B(f,Z(f));else if(h==="--"){U=i.slice(l+1);break}else if(c["halt-at-non-option"]){U=i.slice(l);break}else gt(h)}H(G,!0),H(G,!1),D(G),et(),Q(G,d.aliases,b,!0),nt(G),c["set-placeholder-key"]&&Wt(G),Object.keys(d.counts).forEach(function(l){jt(G,l.split("."))||B(l,0)}),u&&U.length&&(G[m]=[]),U.forEach(function(l){G[m].push(l)}),c["camel-case-expansion"]&&c["strip-dashed"]&&Object.keys(G).filter(l=>l!=="--"&&l.includes("-")).forEach(l=>{delete G[l]}),c["strip-aliased"]&&[].concat(...Object.keys(a).map(l=>a[l])).forEach(l=>{c["camel-case-expansion"]&&l.includes("-")&&delete G[l.split(".").map(h=>Dt(h)).join(".")],delete G[l]});function gt(l){let h=P("_",l);(typeof h=="string"||typeof h=="number")&&G._.push(h)}function Qt(l,h,w,g){let f,S=F(h,d.nargs);if(S=typeof S!="number"||isNaN(S)?1:S,S===0)return Ot(g)||(T=Error(y("Argument unexpected for: %s",h))),B(h,Z(h)),l;let j=Ot(g)?0:1;if(c["nargs-eats-options"])w.length-(l+1)+j<S&&(T=Error(y("Not enough arguments following: %s",h))),j=S;else{for(f=l+1;f<w.length&&(!w[f].match(/^-[^0-9]/)||w[f].match(z)||J(w[f]));f++)j++;j<S&&(T=Error(y("Not enough arguments following: %s",h)))}let $=Math.min(j,S);for(!Ot(g)&&$>0&&(B(h,g),$--),f=l+1;f<$+l+1;f++)B(h,w[f]);return l+$}function Ft(l,h,w,g){let f=[],S=g||w[l+1],j=F(h,d.nargs);if(F(h,d.bools)&&!/^(true|false)$/.test(S))f.push(!0);else if(Ot(S)||Ot(g)&&/^-/.test(S)&&!z.test(S)&&!J(S)){if(b[h]!==void 0){let $=b[h];f=Array.isArray($)?$:[$]}}else{Ot(g)||f.push(C(h,g,!0));for(let $=l+1;$<w.length&&!(!c["greedy-arrays"]&&f.length>0||j&&typeof j=="number"&&f.length>=j||(S=w[$],/^-/.test(S)&&!z.test(S)&&!J(S)));$++)l=$,f.push(C(h,S,o))}return typeof j=="number"&&(j&&f.length<j||isNaN(j)&&f.length===0)&&(T=Error(y("Not enough arguments following: %s",h))),B(h,f),l}function B(l,h,w=o){if(/-/.test(l)&&c["camel-case-expansion"]){let S=l.split(".").map(function(j){return Dt(j)}).join(".");M(l,S)}let g=C(l,h,w),f=l.split(".");xt(G,f,g),d.aliases[l]&&d.aliases[l].forEach(function(S){let j=S.split(".");xt(G,j,g)}),f.length>1&&c["dot-notation"]&&(d.aliases[f[0]]||[]).forEach(function(S){let j=S.split("."),$=[].concat(f);$.shift(),j=j.concat($),(d.aliases[l]||[]).includes(j.join("."))||xt(G,j,g)}),F(l,d.normalize)&&!F(l,d.arrays)&&[l].concat(d.aliases[l]||[]).forEach(function(j){Object.defineProperty(Et,j,{enumerable:!0,get(){return h},set($){h=typeof $=="string"?At.normalize($):$}})})}function M(l,h){d.aliases[l]&&d.aliases[l].length||(d.aliases[l]=[h],_[h]=!0),d.aliases[h]&&d.aliases[h].length||M(h,l)}function C(l,h,w){w&&(h=pi(h)),(F(l,d.bools)||F(l,d.counts))&&typeof h=="string"&&(h=h==="true");let g=Array.isArray(h)?h.map(function(f){return P(l,f)}):P(l,h);return F(l,d.counts)&&(Ot(g)||typeof g=="boolean")&&(g=Me()),F(l,d.normalize)&&F(l,d.arrays)&&(Array.isArray(h)?g=h.map(f=>At.normalize(f)):g=At.normalize(h)),g}function P(l,h){return!c["parse-positional-numbers"]&&l==="_"||!F(l,d.strings)&&!F(l,d.bools)&&!Array.isArray(h)&&(he(h)&&c["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${h}`)))||!Ot(h)&&F(l,d.numbers))&&(h=Number(h)),h}function D(l){let h=Object.create(null);Q(h,d.aliases,b),Object.keys(d.configs).forEach(function(w){let g=l[w]||h[w];if(g)try{let f=null,S=At.resolve(At.cwd(),g),j=d.configs[w];if(typeof j=="function"){try{f=j(S)}catch($){f=$}if(f instanceof Error){T=f;return}}else f=At.require(S);Y(f)}catch(f){f.name==="PermissionDenied"?T=f:l[w]&&(T=Error(y("Invalid JSON config file: %s",g)))}})}function Y(l,h){Object.keys(l).forEach(function(w){let g=l[w],f=h?h+"."+w:w;typeof g=="object"&&g!==null&&!Array.isArray(g)&&c["dot-notation"]?Y(g,f):(!jt(G,f.split("."))||F(f,d.arrays)&&c["combine-arrays"])&&B(f,g)})}function et(){typeof O<"u"&&O.forEach(function(l){Y(l)})}function H(l,h){if(typeof p>"u")return;let w=typeof p=="string"?p:"",g=At.env();Object.keys(g).forEach(function(f){if(w===""||f.lastIndexOf(w,0)===0){let S=f.split("__").map(function(j,$){return $===0&&(j=j.substring(w.length)),Dt(j)});(h&&d.configs[S.join(".")]||!h)&&!jt(l,S)&&B(S.join("."),g[f])}})}function nt(l){let h,w=new Set;Object.keys(l).forEach(function(g){if(!w.has(g)&&(h=F(g,d.coercions),typeof h=="function"))try{let f=P(g,h(l[g]));[].concat(d.aliases[g]||[],g).forEach(S=>{w.add(S),l[S]=f})}catch(f){T=f}})}function Wt(l){return d.keys.forEach(h=>{~h.indexOf(".")||typeof l[h]>"u"&&(l[h]=void 0)}),l}function Q(l,h,w,g=!1){Object.keys(w).forEach(function(f){jt(l,f.split("."))||(xt(l,f.split("."),w[f]),g&&(A[f]=!0),(h[f]||[]).forEach(function(S){jt(l,S.split("."))||xt(l,S.split("."),w[f])}))})}function jt(l,h){let w=l;c["dot-notation"]||(h=[h.join(".")]),h.slice(0,-1).forEach(function(f){w=w[f]||{}});let g=h[h.length-1];return typeof w!="object"?!1:g in w}function xt(l,h,w){let g=l;c["dot-notation"]||(h=[h.join(".")]),h.slice(0,-1).forEach(function(it){it=fn(it),typeof g=="object"&&g[it]===void 0&&(g[it]={}),typeof g[it]!="object"||Array.isArray(g[it])?(Array.isArray(g[it])?g[it].push({}):g[it]=[g[it],{}],g=g[it][g[it].length-1]):g=g[it]});let f=fn(h[h.length-1]),S=F(h.join("."),d.arrays),j=Array.isArray(w),$=c["duplicate-arguments-array"];!$&&F(f,d.nargs)&&($=!0,(!Ot(g[f])&&d.nargs[f]===1||Array.isArray(g[f])&&g[f].length===d.nargs[f])&&(g[f]=void 0)),w===Me()?g[f]=Me(g[f]):Array.isArray(g[f])?$&&S&&j?g[f]=c["flatten-duplicate-arrays"]?g[f].concat(w):(Array.isArray(g[f][0])?g[f]:[g[f]]).concat([w]):!$&&!!S==!!j?g[f]=w:g[f]=g[f].concat([w]):g[f]===void 0&&S?g[f]=j?w:[w]:$&&!(g[f]===void 0||F(f,d.counts)||F(f,d.bools))?g[f]=[g[f],w]:g[f]=w}function Nt(...l){l.forEach(function(h){Object.keys(h||{}).forEach(function(w){d.aliases[w]||(d.aliases[w]=[].concat(a[w]||[]),d.aliases[w].concat(w).forEach(function(g){if(/-/.test(g)&&c["camel-case-expansion"]){let f=Dt(g);f!==w&&d.aliases[w].indexOf(f)===-1&&(d.aliases[w].push(f),_[f]=!0)}}),d.aliases[w].concat(w).forEach(function(g){if(g.length>1&&/[A-Z]/.test(g)&&c["camel-case-expansion"]){let f=fe(g,"-");f!==w&&d.aliases[w].indexOf(f)===-1&&(d.aliases[w].push(f),_[f]=!0)}}),d.aliases[w].forEach(function(g){d.aliases[g]=[w].concat(d.aliases[w].filter(function(f){return g!==f}))}))})})}function F(l,h){let w=[].concat(d.aliases[l]||[],l),g=Object.keys(h),f=w.find(S=>g.includes(S));return f?h[f]:!1}function Ae(l){let h=Object.keys(d);return[].concat(h.map(g=>d[g])).some(function(g){return Array.isArray(g)?g.includes(l):g[l]})}function v(l,...h){return[].concat(...h).some(function(g){let f=l.match(g);return f&&Ae(f[1])})}function K(l){if(l.match(z)||!l.match(/^-[^-]+/))return!1;let h=!0,w,g=l.slice(1).split("");for(let f=0;f<g.length;f++){if(w=l.slice(f+2),!Ae(g[f])){h=!1;break}if(g[f+1]&&g[f+1]==="="||w==="-"||/[A-Za-z]/.test(g[f])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(w)||g[f+1]&&g[f+1].match(/\W/))break}return h}function J(l){return c["unknown-options-as-args"]&&R(l)}function R(l){return l=l.replace(/^-{3,}/,"--"),l.match(z)||K(l)?!1:!v(l,/^-+([^=]+?)=[\s\S]*$/,L,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function Z(l){return!F(l,d.bools)&&!F(l,d.counts)&&`${l}`in b?b[l]:k(bt(l))}function k(l){return{[ht.BOOLEAN]:!0,[ht.STRING]:"",[ht.NUMBER]:void 0,[ht.ARRAY]:[]}[l]}function bt(l){let h=ht.BOOLEAN;return F(l,d.strings)?h=ht.STRING:F(l,d.numbers)?h=ht.NUMBER:F(l,d.bools)?h=ht.BOOLEAN:F(l,d.arrays)&&(h=ht.ARRAY),h}function Ot(l){return l===void 0}function ae(){Object.keys(d.counts).find(l=>F(l,d.arrays)?(T=Error(y("Invalid configuration: %s, opts.count excludes opts.array.",l)),!0):F(l,d.nargs)?(T=Error(y("Invalid configuration: %s, opts.count excludes opts.narg.",l)),!0):!1)}return{aliases:Object.assign({},d.aliases),argv:Object.assign(Et,G),configuration:c,defaulted:Object.assign({},A),error:T,newAliases:Object.assign({},_)}}};function di(s){let t=[],e=Object.create(null),n=!0;for(Object.keys(s).forEach(function(i){t.push([].concat(s[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let o=i+1;o<t.length;o++)if(t[i].filter(function(c){return t[o].indexOf(c)!==-1}).length){t[i]=t[i].concat(t[o]),t.splice(o,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,c,b){return b.indexOf(a)===c});let o=i.pop();o!==void 0&&typeof o=="string"&&(e[o]=i)}),e}function Me(s){return s!==void 0?s+1:1}function fn(s){return s==="__proto__"?"___proto___":s}function pi(s){return typeof s=="string"&&(s[0]==="'"||s[0]==='"')&&s[s.length-1]===s[0]?s.substring(1,s.length-1):s}import{readFileSync as Oi}from"fs";var Ie,$e,ve,hn=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,un=($e=(Ie=process==null?void 0:process.versions)===null||Ie===void 0?void 0:Ie.node)!==null&&$e!==void 0?$e:(ve=process==null?void 0:process.version)===null||ve===void 0?void 0:ve.slice(1);if(un&&Number(un.match(/^([^.]+)/)[1])<hn)throw Error(`yargs parser supports a minimum Node.js version of ${hn}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var _i=process?process.env:{},dn=new ue({cwd:process.cwd,env:()=>_i,format:mi,normalize:gi,resolve:bi,require:s=>{if(typeof wt<"u")return wt(s);if(s.match(/\.json$/))return JSON.parse(Oi(s,"utf8"));throw Error("only .json config files are supported in ESM")}}),ee=function(t,e){return dn.parse(t.slice(),e).argv};ee.detailed=function(s,t){return dn.parse(s.slice(),t)};ee.camelCase=Dt;ee.decamelize=fe;ee.looksLikeNumber=he;var Fe=ee;import{basename as Fi,dirname as Wi,extname as Ni,relative as Di,resolve as _n}from"path";function pn(){return wi()?0:1}function wi(){return yi()&&!process.defaultApp}function yi(){return!!process.versions.electron}function We(s){return s.slice(pn()+1)}function mn(){return process.argv[pn()]}var V=class s extends Error{constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,s)}};import{readFileSync as Ci,statSync as ji,writeFile as xi}from"fs";import{format as Ai}from"util";import{resolve as Ei}from"path";var gn={fs:{readFileSync:Ci,writeFile:xi},format:Ai,resolve:Ei,exists:s=>{try{return ji(s).isFile()}catch{return!1}}};var _t,Ne=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let e=t.shift(),n=function(){};return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]=e,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),_t.format.apply(_t.format,[this.cache[this.locale][e]||e].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.shift(),i=t.shift(),o=function(){};typeof t[t.length-1]=="function"&&(o=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?e:n;this.cache[this.locale][e]&&(a=this.cache[this.locale][e][i===1?"one":"other"]),!this.cache[this.locale][e]&&this.updateFiles?(this.cache[this.locale][e]={one:e,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:o})):o();let c=[a];return~a.indexOf("%d")&&c.push(i),_t.format.apply(_t.format,c.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.cache[this.locale][e]=t[e])}_taggedLiteral(t,...e){let n="";return t.forEach(function(i,o){let a=e[o+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(e,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,e=this.writeQueue[0],n=e.directory,i=e.locale,o=e.cb,a=this._resolveLocaleFile(n,i),c=JSON.stringify(this.cache[i],null,2);_t.fs.writeFile(a,c,"utf-8",function(b){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),o(b)})}_readLocaleFile(){let t={},e=this._resolveLocaleFile(this.directory,this.locale);try{_t.fs.readFileSync&&(t=JSON.parse(_t.fs.readFileSync(e,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+e),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,e){let n=_t.resolve(t,"./",e+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~e.lastIndexOf("_")){let i=_t.resolve(t,"./",e.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return _t.exists(t)}};function bn(s,t){_t=t;let e=new Ne(s);return{__:e.__.bind(e),__n:e.__n.bind(e),setLocale:e.setLocale.bind(e),getLocale:e.getLocale.bind(e),updateLocale:e.updateLocale.bind(e),locale:e.locale}}var Pi=s=>bn(s,gn),On=Pi;var zi="require is not supported by ESM",wn="loading a directory of commands is not supported yet for ESM",ne;try{ne=vi(import.meta.url)}catch{ne=process.cwd()}var Li=ne.substring(0,ne.lastIndexOf("node_modules")),De={assert:{notStrictEqual:Si,strictEqual:Mi},cliui:Se,findUp:ln,getEnv:s=>process.env[s],inspect:Ii,getCallerFile:()=>{throw new V(wn)},getProcessArgvBin:mn,mainFilename:Li||process.cwd(),Parser:Fe,path:{basename:Fi,dirname:Wi,extname:Ni,relative:Di,resolve:_n},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(s,t)=>process.emitWarning(s,t),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:$i,require:()=>{throw new V(zi)},requireDirectory:()=>{throw new V(wn)},stringWidth:s=>[...s].length,y18n:On({directory:_n(ne,"../../../locales"),updateFiles:!1})};function ot(s,t,e,n){e.assert.notStrictEqual(s,t,n)}function ze(s,t){t.assert.strictEqual(typeof s,"string")}function Jt(s){return Object.keys(s)}function q(s){return!!s&&!!s.then&&typeof s.then=="function"}function Pt(s){let e=s.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=e.shift();if(!i)throw new Error(`No command found in: ${s}`);let o={cmd:i.replace(n,""),demanded:[],optional:[]};return e.forEach((a,c)=>{let b=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&c===e.length-1&&(b=!0),/^\[/.test(a)?o.optional.push({cmd:a.replace(n,"").split("|"),variadic:b}):o.demanded.push({cmd:a.replace(n,"").split("|"),variadic:b})}),o}var Ri=["first","second","third","fourth","fifth","sixth"];function x(s,t,e){function n(){return typeof s=="object"?[{demanded:[],optional:[]},s,t]:[Pt(`cmd ${s}`),t,e]}try{let i=0,[o,a,c]=n(),b=[].slice.call(a);for(;b.length&&b[b.length-1]===void 0;)b.pop();let O=c||b.length;if(O<o.demanded.length)throw new V(`Not enough arguments provided. Expected ${o.demanded.length} but received ${b.length}.`);let p=o.demanded.length+o.optional.length;if(O>p)throw new V(`Too many arguments provided. Expected max ${p} but received ${O}.`);o.demanded.forEach(u=>{let m=b.shift(),_=yn(m);u.cmd.filter(y=>y===_||y==="*").length===0&&Cn(_,u.cmd,i),i+=1}),o.optional.forEach(u=>{if(b.length===0)return;let m=b.shift(),_=yn(m);u.cmd.filter(y=>y===_||y==="*").length===0&&Cn(_,u.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}function yn(s){return Array.isArray(s)?"array":s===null?"null":typeof s}function Cn(s,t,e){throw new V(`Invalid ${Ri[e]||"manyith"} argument. Expected ${t.join(" or ")} but received ${s}.`)}var de=class{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,e,n=!0,i=!1){if(x("<array|function> [boolean] [boolean] [boolean]",[t,e,n],arguments.length),Array.isArray(t)){for(let o=0;o<t.length;o++){if(typeof t[o]!="function")throw Error("middleware must be a function");let a=t[o];a.applyBeforeValidation=e,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let o=t;o.applyBeforeValidation=e,o.global=n,o.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,e){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let o=[...n[e]||[],e];return i.option?!o.includes(i.option):!0}),t.option=e,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function jn(s){return s?s.map(t=>(t.applyBeforeValidation=!1,t)):[]}function zt(s,t,e,n){return e.reduce((i,o)=>{if(o.applyBeforeValidation!==n)return i;if(o.mutates){if(o.applied)return i;o.applied=!0}if(q(i))return i.then(a=>Promise.all([a,o(a,t)])).then(([a,c])=>Object.assign(a,c));{let a=o(i,t);return q(a)?a.then(c=>Object.assign(i,c)):Object.assign(i,a)}},s)}function Lt(s,t,e=n=>{throw n}){try{let n=Ui(s)?s():s;return q(n)?n.then(i=>t(i)):t(n)}catch(n){return e(n)}}function Ui(s){return typeof s=="function"}function Le(s){if(typeof wt>"u")return null;for(let t=0,e=Object.keys(wt.cache),n;t<e.length;t++)if(n=wt.cache[e[t]],n.exports===s)return n;return null}var Zt=/(^\*)|(^\$0)/,Re=class{constructor(t,e,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=e}addDirectory(t,e,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let o=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,c,b)=>{let O=o(a,c,b);if(O){if(this.requireCache.has(c))return O;this.requireCache.add(c),this.addHandler(O)}return O},this.shim.requireDirectory({require:e,filename:n},t,i)}addHandler(t,e,n,i,o,a){let c=[],b=jn(o);if(i=i||(()=>{}),Array.isArray(t))if(Hi(t))[t,...c]=t;else for(let O of t)this.addHandler(O);else if(Ti(t)){let O=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(O=[].concat(O).concat(t.aliases)),this.addHandler(O,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(xn(n)){this.addHandler([t].concat(c),e,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let O=Pt(t);c=c.map(m=>Pt(m).cmd);let p=!1,u=[O.cmd].concat(c).filter(m=>Zt.test(m)?(p=!0,!1):!0);u.length===0&&p&&u.push("$0"),p&&(O.cmd=u[0],c=u.slice(1),t=t.replace(Zt,O.cmd)),c.forEach(m=>{this.aliasMap[m]=O.cmd}),e!==!1&&this.usage.command(t,e,p,c,a),this.handlers[O.cmd]={original:t,description:e,handler:i,builder:n||{},middlewares:b,deprecated:a,demanded:O.demanded,optional:O.optional},p&&(this.defaultCommand=this.handlers[O.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,e,n,i,o,a){let c=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,b=e.getInternalMethods().getContext(),O=b.commands.slice(),p=!t;t&&(b.commands.push(t),b.fullCommands.push(c.original));let u=this.applyBuilderUpdateUsageAndParse(p,c,e,n.aliases,O,i,o,a);return q(u)?u.then(m=>this.applyMiddlewareAndGetResult(p,c,m.innerArgv,b,o,m.aliases,e)):this.applyMiddlewareAndGetResult(p,c,u.innerArgv,b,o,u.aliases,e)}applyBuilderUpdateUsageAndParse(t,e,n,i,o,a,c,b){let O=e.builder,p=n;if(pe(O)){n.getInternalMethods().getUsageInstance().freeze();let u=O(n.getInternalMethods().reset(i),b);if(q(u))return u.then(m=>(p=En(m)?m:n,this.parseAndUpdateUsage(t,e,p,o,a,c)))}else Yi(O)&&(n.getInternalMethods().getUsageInstance().freeze(),p=n.getInternalMethods().reset(i),Object.keys(e.builder).forEach(u=>{p.option(u,O[u])}));return this.parseAndUpdateUsage(t,e,p,o,a,c)}parseAndUpdateUsage(t,e,n,i,o,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,e),e.description);let c=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,o,a);return q(c)?c.then(b=>({aliases:n.parsed.aliases,innerArgv:b})):{aliases:n.parsed.aliases,innerArgv:c}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,e){let n=Zt.test(e.original)?e.original.replace(Zt,"").trim():e.original,i=t.filter(o=>!Zt.test(o));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,e,n,i,o,a,c,b){if(!a.getInternalMethods().getHasOutput()){let O=a.getInternalMethods().runValidation(o,b,a.parsed.error,t);n=Lt(n,p=>(O(p),p))}if(e.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let O=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,O,!1,!1),n=zt(n,a,c,!1),n=Lt(n,p=>{let u=e.handler(p);return q(u)?u.then(()=>p):p}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),q(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(p=>{try{a.getInternalMethods().getUsageInstance().fail(null,p)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,e,n,i,o,a,c){let b={};if(o)return n;c.getInternalMethods().getHasOutput()||(b=this.populatePositionals(e,n,i,c));let O=this.globalMiddleware.getMiddleware().slice(0).concat(e.middlewares),p=zt(n,c,O,!0);return q(p)?p.then(u=>this.handleValidationAndGetResult(t,e,u,i,a,c,O,b)):this.handleValidationAndGetResult(t,e,p,i,a,c,O,b)}populatePositionals(t,e,n,i){e._=e._.slice(n.commands.length);let o=t.demanded.slice(0),a=t.optional.slice(0),c={};for(this.validation.positionalCount(o.length,e._.length);o.length;){let b=o.shift();this.populatePositional(b,e,c)}for(;a.length;){let b=a.shift();this.populatePositional(b,e,c)}return e._=n.commands.concat(e._.map(b=>""+b)),this.postProcessPositionals(e,c,this.cmdToParseOptions(t.original),i),c}populatePositional(t,e,n){let i=t.cmd[0];t.variadic?n[i]=e._.splice(0).map(String):e._.length&&(n[i]=[String(e._.shift())])}cmdToParseOptions(t){let e={array:[],default:{},alias:{},demand:{}},n=Pt(t);return n.demanded.forEach(i=>{let[o,...a]=i.cmd;i.variadic&&(e.array.push(o),e.default[o]=[]),e.alias[o]=a,e.demand[o]=!0}),n.optional.forEach(i=>{let[o,...a]=i.cmd;i.variadic&&(e.array.push(o),e.default[o]=[]),e.alias[o]=a}),e}postProcessPositionals(t,e,n,i){let o=Object.assign({},i.getOptions());o.default=Object.assign(n.default,o.default);for(let O of Object.keys(n.alias))o.alias[O]=(o.alias[O]||[]).concat(n.alias[O]);o.array=o.array.concat(n.array),o.config={};let a=[];if(Object.keys(e).forEach(O=>{e[O].map(p=>{o.configuration["unknown-options-as-args"]&&(o.key[O]=!0),a.push(`--${O}`),a.push(p)})}),!a.length)return;let c=Object.assign({},o.configuration,{"populate--":!1}),b=this.shim.Parser.detailed(a,Object.assign({},o,{configuration:c}));if(b.error)i.getInternalMethods().getUsageInstance().fail(b.error.message,b.error);else{let O=Object.keys(e);Object.keys(e).forEach(p=>{O.push(...b.aliases[p])}),Object.keys(b.argv).forEach(p=>{O.includes(p)&&(e[p]||(e[p]=b.argv[p]),!this.isInConfigs(i,p)&&!this.isDefaulted(i,p)&&Object.prototype.hasOwnProperty.call(t,p)&&Object.prototype.hasOwnProperty.call(b.argv,p)&&(Array.isArray(t[p])||Array.isArray(b.argv[p]))?t[p]=[].concat(t[p],b.argv[p]):t[p]=b.argv[p])})}}isDefaulted(t,e){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,e)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(e))}isInConfigs(t,e){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,e))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(e)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=Zt.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let e=this.defaultCommand.builder;if(pe(e))return e(t,!0);xn(e)||Object.keys(e).forEach(n=>{t.option(n,e[n])})}moduleName(t){let e=Le(t);if(!e)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(e.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:e,desc:n}){for(let i of[t,e,n]){if(typeof i=="string"||i===!1)return i;ot(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();ot(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function An(s,t,e,n){return new Re(s,t,e,n)}function xn(s){return typeof s=="object"&&!!s.builder&&typeof s.handler=="function"}function Hi(s){return s.every(t=>typeof t=="string")}function pe(s){return typeof s=="function"}function Yi(s){return typeof s=="object"}function Ti(s){return typeof s=="object"&&!Array.isArray(s)}function St(s={},t=()=>!0){let e={};return Jt(s).forEach(n=>{t(n,s[n])&&(e[n]=s[n])}),e}function Mt(s){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let e=t;e._handle&&e.isTTY&&typeof e._handle.setBlocking=="function"&&e._handle.setBlocking(s)})}function Gi(s){return typeof s=="boolean"}function Sn(s,t){let e=t.y18n.__,n={},i=[];n.failFn=function(C){i.push(C)};let o=null,a=null,c=!0;n.showHelpOnFail=function(C=!0,P){let[D,Y]=typeof C=="string"?[!0,C]:[C,P];return s.getInternalMethods().isGlobalContext()&&(a=Y),o=Y,c=D,n};let b=!1;n.fail=function(C,P){let D=s.getInternalMethods().getLoggerInstance();if(i.length)for(let Y=i.length-1;Y>=0;--Y){let et=i[Y];if(Gi(et)){if(P)throw P;if(C)throw Error(C)}else et(C,P,n)}else{if(s.getExitProcess()&&Mt(!0),!b){b=!0,c&&(s.showHelp("error"),D.error()),(C||P)&&D.error(C||P);let Y=o||a;Y&&((C||P)&&D.error(""),D.error(Y))}if(P=P||new V(C),s.getExitProcess())return s.exit(1);if(s.getInternalMethods().hasParseCallback())return s.exit(1,P);throw P}};let O=[],p=!1;n.usage=(M,C)=>M===null?(p=!0,O=[],n):(p=!1,O.push([M,C||""]),n),n.getUsage=()=>O,n.getUsageDisabled=()=>p,n.getPositionalGroupName=()=>e("Positionals:");let u=[];n.example=(M,C)=>{u.push([M,C||""])};let m=[];n.command=function(C,P,D,Y,et=!1){D&&(m=m.map(H=>(H[2]=!1,H))),m.push([C,P||"",D,Y,et])},n.getCommands=()=>m;let _={};n.describe=function(C,P){Array.isArray(C)?C.forEach(D=>{n.describe(D,P)}):typeof C=="object"?Object.keys(C).forEach(D=>{n.describe(D,C[D])}):_[C]=P},n.getDescriptions=()=>_;let A=[];n.epilog=M=>{A.push(M)};let y=!1,d;n.wrap=M=>{y=!0,d=M},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(y||(d=Qt(),y=!0),d);let z="__yargsString__:";n.deferY18nLookup=M=>z+M,n.help=function(){if(U)return U;T();let C=s.customScriptName?s.$0:t.path.basename(s.$0),P=s.getDemandedOptions(),D=s.getDemandedCommands(),Y=s.getDeprecatedOptions(),et=s.getGroups(),H=s.getOptions(),nt=[];nt=nt.concat(Object.keys(_)),nt=nt.concat(Object.keys(P)),nt=nt.concat(Object.keys(D)),nt=nt.concat(Object.keys(H.default)),nt=nt.filter(Et),nt=Object.keys(nt.reduce((v,K)=>(K!=="_"&&(v[K]=!0),v),{}));let Wt=n.getWrap(),Q=t.cliui({width:Wt,wrap:!!Wt});if(!p){if(O.length)O.forEach(v=>{Q.div({text:`${v[0].replace(/\$0/g,C)}`}),v[1]&&Q.div({text:`${v[1]}`,padding:[1,0,0,0]})}),Q.div();else if(m.length){let v=null;D._?v=`${C} <${e("command")}>
`:v=`${C} [${e("command")}]
`,Q.div(`${v}`)}}if(m.length>1||m.length===1&&!m[0][2]){Q.div(e("Commands:"));let v=s.getInternalMethods().getContext(),K=v.commands.length?`${v.commands.join(" ")} `:"";s.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(m=m.sort((R,Z)=>R[0].localeCompare(Z[0])));let J=C?`${C} `:"";m.forEach(R=>{let Z=`${J}${K}${R[0].replace(/^\$0 ?/,"")}`;Q.span({text:Z,padding:[0,2,0,2],width:L(m,Wt,`${C}${K}`)+4},{text:R[1]});let k=[];R[2]&&k.push(`[${e("default")}]`),R[3]&&R[3].length&&k.push(`[${e("aliases:")} ${R[3].join(", ")}]`),R[4]&&(typeof R[4]=="string"?k.push(`[${e("deprecated: %s",R[4])}]`):k.push(`[${e("deprecated")}]`)),k.length?Q.div({text:k.join(" "),padding:[0,0,0,2],align:"right"}):Q.div()}),Q.div()}let jt=(Object.keys(H.alias)||[]).concat(Object.keys(s.parsed.newAliases)||[]);nt=nt.filter(v=>!s.parsed.newAliases[v]&&jt.every(K=>(H.alias[K]||[]).indexOf(v)===-1));let xt=e("Options:");et[xt]||(et[xt]=[]),G(nt,H.alias,et,xt);let Nt=v=>/^--/.test(me(v)),F=Object.keys(et).filter(v=>et[v].length>0).map(v=>{let K=et[v].filter(Et).map(J=>{if(jt.includes(J))return J;for(let R=0,Z;(Z=jt[R])!==void 0;R++)if((H.alias[Z]||[]).includes(J))return Z;return J});return{groupName:v,normalizedKeys:K}}).filter(({normalizedKeys:v})=>v.length>0).map(({groupName:v,normalizedKeys:K})=>{let J=K.reduce((R,Z)=>(R[Z]=[Z].concat(H.alias[Z]||[]).map(k=>v===n.getPositionalGroupName()?k:(/^[0-9]$/.test(k)?H.boolean.includes(Z)?"-":"--":k.length>1?"--":"-")+k).sort((k,bt)=>Nt(k)===Nt(bt)?0:Nt(k)?1:-1).join(", "),R),{});return{groupName:v,normalizedKeys:K,switches:J}});if(F.filter(({groupName:v})=>v!==n.getPositionalGroupName()).some(({normalizedKeys:v,switches:K})=>!v.every(J=>Nt(K[J])))&&F.filter(({groupName:v})=>v!==n.getPositionalGroupName()).forEach(({normalizedKeys:v,switches:K})=>{v.forEach(J=>{Nt(K[J])&&(K[J]=Bi(K[J],4))})}),F.forEach(({groupName:v,normalizedKeys:K,switches:J})=>{Q.div(v),K.forEach(R=>{let Z=J[R],k=_[R]||"",bt=null;k.includes(z)&&(k=e(k.substring(z.length))),H.boolean.includes(R)&&(bt=`[${e("boolean")}]`),H.count.includes(R)&&(bt=`[${e("count")}]`),H.string.includes(R)&&(bt=`[${e("string")}]`),H.normalize.includes(R)&&(bt=`[${e("string")}]`),H.array.includes(R)&&(bt=`[${e("array")}]`),H.number.includes(R)&&(bt=`[${e("number")}]`);let Ot=h=>typeof h=="string"?`[${e("deprecated: %s",h)}]`:`[${e("deprecated")}]`,ae=[R in Y?Ot(Y[R]):null,bt,R in P?`[${e("required")}]`:null,H.choices&&H.choices[R]?`[${e("choices:")} ${n.stringifiedValues(H.choices[R])}]`:null,gt(H.default[R],H.defaultDescription[R])].filter(Boolean).join(" ");Q.span({text:me(Z),padding:[0,2,0,2+Pn(Z)],width:L(J,Wt)+4},k);let l=s.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;ae&&!l?Q.div({text:ae,padding:[0,0,0,2],align:"right"}):Q.div()}),Q.div()}),u.length&&(Q.div(e("Examples:")),u.forEach(v=>{v[0]=v[0].replace(/\$0/g,C)}),u.forEach(v=>{v[1]===""?Q.div({text:v[0],padding:[0,2,0,2]}):Q.div({text:v[0],padding:[0,2,0,2],width:L(u,Wt)+4},{text:v[1]})}),Q.div()),A.length>0){let v=A.map(K=>K.replace(/\$0/g,C)).join(`
`);Q.div(`${v}
`)}return Q.toString().replace(/\s*$/,"")};function L(M,C,P){let D=0;return Array.isArray(M)||(M=Object.values(M).map(Y=>[Y])),M.forEach(Y=>{D=Math.max(t.stringWidth(P?`${P} ${me(Y[0])}`:me(Y[0]))+Pn(Y[0]),D)}),C&&(D=Math.min(D,parseInt((C*.5).toString(),10))),D}function T(){let M=s.getDemandedOptions(),C=s.getOptions();(Object.keys(C.alias)||[]).forEach(P=>{C.alias[P].forEach(D=>{_[D]&&n.describe(P,_[D]),D in M&&s.demandOption(P,M[D]),C.boolean.includes(D)&&s.boolean(P),C.count.includes(D)&&s.count(P),C.string.includes(D)&&s.string(P),C.normalize.includes(D)&&s.normalize(P),C.array.includes(D)&&s.array(P),C.number.includes(D)&&s.number(P)})})}let U;n.cacheHelpMessage=function(){U=this.help()},n.clearCachedHelpMessage=function(){U=void 0},n.hasCachedHelpMessage=function(){return!!U};function G(M,C,P,D){let Y=[],et=null;return Object.keys(P).forEach(H=>{Y=Y.concat(P[H])}),M.forEach(H=>{et=[H].concat(C[H]),et.some(nt=>Y.indexOf(nt)!==-1)||P[D].push(H)}),Y}function Et(M){return s.getOptions().hiddenOptions.indexOf(M)<0||s.parsed.argv[s.getOptions().showHiddenOpt]}n.showHelp=M=>{let C=s.getInternalMethods().getLoggerInstance();M||(M="error"),(typeof M=="function"?M:C[M])(n.help())},n.functionDescription=M=>["(",M.name?t.Parser.decamelize(M.name,"-"):e("generated-value"),")"].join(""),n.stringifiedValues=function(C,P){let D="",Y=P||", ",et=[].concat(C);return!C||!et.length||et.forEach(H=>{D.length&&(D+=Y),D+=JSON.stringify(H)}),D};function gt(M,C){let P=`[${e("default:")} `;if(M===void 0&&!C)return null;if(C)P+=C;else switch(typeof M){case"string":P+=`"${M}"`;break;case"object":P+=JSON.stringify(M);break;default:P+=M}return`${P}]`}function Qt(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}let Ft=null;n.version=M=>{Ft=M},n.showVersion=M=>{let C=s.getInternalMethods().getLoggerInstance();M||(M="error"),(typeof M=="function"?M:C[M])(Ft)},n.reset=function(C){return o=null,b=!1,O=[],p=!1,A=[],u=[],m=[],_=St(_,P=>!C[P]),n};let B=[];return n.freeze=function(){B.push({failMessage:o,failureOutput:b,usages:O,usageDisabled:p,epilogs:A,examples:u,commands:m,descriptions:_})},n.unfreeze=function(C=!1){let P=B.pop();P&&(C?(_={...P.descriptions,..._},m=[...P.commands,...m],O=[...P.usages,...O],u=[...P.examples,...u],A=[...P.epilogs,...A]):{failMessage:o,failureOutput:b,usages:O,usageDisabled:p,epilogs:A,examples:u,commands:m,descriptions:_}=P)},n}function Ue(s){return typeof s=="object"}function Bi(s,t){return Ue(s)?{text:s.text,indentation:s.indentation+t}:{text:s,indentation:t}}function Pn(s){return Ue(s)?s.indentation:0}function me(s){return Ue(s)?s.text:s}var Mn=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,In=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var He=class{constructor(t,e,n,i){var o,a,c;this.yargs=t,this.usage=e,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(c=((o=this.shim.getEnv("SHELL"))===null||o===void 0?void 0:o.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&c!==void 0?c:!1}defaultCompletion(t,e,n,i){let o=this.command.getCommandHandlers();for(let c=0,b=t.length;c<b;++c)if(o[t[c]]&&o[t[c]].builder){let O=o[t[c]].builder;if(pe(O)){this.indexAfterLastReset=c+1;let p=this.yargs.getInternalMethods().reset();return O(p,!0),p.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,e,n),this.choicesFromOptionsCompletions(a,t,e,n),this.choicesFromPositionalsCompletions(a,t,e,n),i(null,a)}commandCompletions(t,e,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(e)&&this.usage.getCommands().forEach(o=>{let a=Pt(o[0]).cmd;if(e.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let c=o[1]||"";t.push(a.replace(/:/g,"\\:")+":"+c)}})}optionCompletions(t,e,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(e)){let o=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(o.key).forEach(c=>{let b=!!o.configuration["boolean-negation"]&&o.boolean.includes(c);!a.includes(c)&&!o.hiddenOptions.includes(c)&&!this.argsContainKey(e,c,b)&&this.completeOptionKey(c,t,i,b&&!!o.default[c])})}}choicesFromOptionsCompletions(t,e,n,i){if(this.previousArgHasChoices(e)){let o=this.getPreviousArgChoices(e);o&&o.length>0&&t.push(...o.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,e,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(e))return;let o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),c=o[n._.length-a-1];if(!c)return;let b=this.yargs.getOptions().choices[c]||[];for(let O of b)O.startsWith(i)&&t.push(O.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let e=t[t.length-1],n="";if(!e.startsWith("-")&&t.length>1&&(n=e,e=t[t.length-2]),!e.startsWith("-"))return;let i=e.replace(/^-+/,""),o=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],c;for(let b of a)if(Object.prototype.hasOwnProperty.call(o.key,b)&&Array.isArray(o.choices[b])){c=o.choices[b];break}if(c)return c.filter(b=>!n||b.startsWith(n))}previousArgHasChoices(t){let e=this.getPreviousArgChoices(t);return e!==void 0&&e.length>0}argsContainKey(t,e,n){let i=o=>t.indexOf((/^[^0-9]$/.test(o)?"-":"--")+o)!==-1;if(i(e)||n&&i(`no-${e}`))return!0;if(this.aliases){for(let o of this.aliases[e])if(i(o))return!0}return!1}completeOptionKey(t,e,n,i){var o,a,c,b;let O=t;if(this.zshShell){let _=this.usage.getDescriptions(),A=(a=(o=this===null||this===void 0?void 0:this.aliases)===null||o===void 0?void 0:o[t])===null||a===void 0?void 0:a.find(z=>{let L=_[z];return typeof L=="string"&&L.length>0}),y=A?_[A]:void 0,d=(b=(c=_[t])!==null&&c!==void 0?c:y)!==null&&b!==void 0?b:"";O=`${t.replace(/:/g,"\\:")}:${d.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let p=_=>/^--/.test(_),u=_=>/^[^0-9]$/.test(_),m=!p(n)&&u(t)?"-":"--";e.push(m+O),i&&e.push(m+"no-"+O)}customCompletion(t,e,n,i){if(ot(this.customCompletionFunction,null,this.shim),qi(this.customCompletionFunction)){let o=this.customCompletionFunction(n,e);return q(o)?o.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,o)}else return Ki(this.customCompletionFunction)?this.customCompletionFunction(n,e,(o=i)=>this.defaultCompletion(t,e,n,o),o=>{i(null,o)}):this.customCompletionFunction(n,e,o=>{i(null,o)})}getCompletion(t,e){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),o=this.customCompletionFunction?a=>this.customCompletion(t,a,n,e):a=>this.defaultCompletion(t,a,n,e);return q(i)?i.then(o):o(i)}generateCompletionScript(t,e){let n=this.zshShell?In:Mn,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,e),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function $n(s,t,e,n){return new He(s,t,e,n)}function qi(s){return s.length<3}function Ki(s){return s.length>3}function vn(s,t){if(s.length===0)return t.length;if(t.length===0)return s.length;let e=[],n;for(n=0;n<=t.length;n++)e[n]=[n];let i;for(i=0;i<=s.length;i++)e[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=s.length;i++)t.charAt(n-1)===s.charAt(i-1)?e[n][i]=e[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===s.charAt(i-1)&&t.charAt(n-1)===s.charAt(i-2)?e[n][i]=e[n-2][i-2]+1:e[n][i]=Math.min(e[n-1][i-1]+1,Math.min(e[n][i-1]+1,e[n-1][i]+1));return e[t.length][s.length]}var Fn=["$0","--","_"];function Wn(s,t,e){let n=e.y18n.__,i=e.y18n.__n,o={};o.nonOptionCount=function(u){let m=s.getDemandedCommands(),A=u._.length+(u["--"]?u["--"].length:0)-s.getInternalMethods().getContext().commands.length;m._&&(A<m._.min||A>m._.max)&&(A<m._.min?m._.minMsg!==void 0?t.fail(m._.minMsg?m._.minMsg.replace(/\$0/g,A.toString()).replace(/\$1/,m._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",A,A.toString(),m._.min.toString())):A>m._.max&&(m._.maxMsg!==void 0?t.fail(m._.maxMsg?m._.maxMsg.replace(/\$0/g,A.toString()).replace(/\$1/,m._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",A,A.toString(),m._.max.toString()))))},o.positionalCount=function(u,m){m<u&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",m,m+"",u+""))},o.requiredArguments=function(u,m){let _=null;for(let A of Object.keys(m))(!Object.prototype.hasOwnProperty.call(u,A)||typeof u[A]>"u")&&(_=_||{},_[A]=m[A]);if(_){let A=[];for(let d of Object.keys(_)){let z=_[d];z&&A.indexOf(z)<0&&A.push(z)}let y=A.length?`
${A.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(_).length,Object.keys(_).join(", ")+y))}},o.unknownArguments=function(u,m,_,A,y=!0){var d;let z=s.getInternalMethods().getCommandInstance().getCommands(),L=[],T=s.getInternalMethods().getContext();if(Object.keys(u).forEach(U=>{!Fn.includes(U)&&!Object.prototype.hasOwnProperty.call(_,U)&&!Object.prototype.hasOwnProperty.call(s.getInternalMethods().getParseContext(),U)&&!o.isValidAndSomeAliasIsNotNew(U,m)&&L.push(U)}),y&&(T.commands.length>0||z.length>0||A)&&u._.slice(T.commands.length).forEach(U=>{z.includes(""+U)||L.push(""+U)}),y){let G=((d=s.getDemandedCommands()._)===null||d===void 0?void 0:d.max)||0,Et=T.commands.length+G;Et<u._.length&&u._.slice(Et).forEach(gt=>{gt=String(gt),!T.commands.includes(gt)&&!L.includes(gt)&&L.push(gt)})}L.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",L.length,L.map(U=>U.trim()?U:`"${U}"`).join(", ")))},o.unknownCommands=function(u){let m=s.getInternalMethods().getCommandInstance().getCommands(),_=[],A=s.getInternalMethods().getContext();return(A.commands.length>0||m.length>0)&&u._.slice(A.commands.length).forEach(y=>{m.includes(""+y)||_.push(""+y)}),_.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",_.length,_.join(", "))),!0):!1},o.isValidAndSomeAliasIsNotNew=function(u,m){if(!Object.prototype.hasOwnProperty.call(m,u))return!1;let _=s.parsed.newAliases;return[u,...m[u]].some(A=>!Object.prototype.hasOwnProperty.call(_,A)||!_[u])},o.limitedChoices=function(u){let m=s.getOptions(),_={};if(!Object.keys(m.choices).length)return;Object.keys(u).forEach(d=>{Fn.indexOf(d)===-1&&Object.prototype.hasOwnProperty.call(m.choices,d)&&[].concat(u[d]).forEach(z=>{m.choices[d].indexOf(z)===-1&&z!==void 0&&(_[d]=(_[d]||[]).concat(z))})});let A=Object.keys(_);if(!A.length)return;let y=n("Invalid values:");A.forEach(d=>{y+=`
  ${n("Argument: %s, Given: %s, Choices: %s",d,t.stringifiedValues(_[d]),t.stringifiedValues(m.choices[d]))}`}),t.fail(y)};let a={};o.implies=function(u,m){x("<string|object> [array|number|string]",[u,m],arguments.length),typeof u=="object"?Object.keys(u).forEach(_=>{o.implies(_,u[_])}):(s.global(u),a[u]||(a[u]=[]),Array.isArray(m)?m.forEach(_=>o.implies(u,_)):(ot(m,void 0,e),a[u].push(m)))},o.getImplied=function(){return a};function c(p,u){let m=Number(u);return u=isNaN(m)?u:m,typeof u=="number"?u=p._.length>=u:u.match(/^--no-.+/)?(u=u.match(/^--no-(.+)/)[1],u=!Object.prototype.hasOwnProperty.call(p,u)):u=Object.prototype.hasOwnProperty.call(p,u),u}o.implications=function(u){let m=[];if(Object.keys(a).forEach(_=>{let A=_;(a[_]||[]).forEach(y=>{let d=A,z=y;d=c(u,d),y=c(u,y),d&&!y&&m.push(` ${A} -> ${z}`)})}),m.length){let _=`${n("Implications failed:")}
`;m.forEach(A=>{_+=A}),t.fail(_)}};let b={};o.conflicts=function(u,m){x("<string|object> [array|string]",[u,m],arguments.length),typeof u=="object"?Object.keys(u).forEach(_=>{o.conflicts(_,u[_])}):(s.global(u),b[u]||(b[u]=[]),Array.isArray(m)?m.forEach(_=>o.conflicts(u,_)):b[u].push(m))},o.getConflicting=()=>b,o.conflicting=function(u){Object.keys(u).forEach(m=>{b[m]&&b[m].forEach(_=>{_&&u[m]!==void 0&&u[_]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",m,_))})}),s.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(b).forEach(m=>{b[m].forEach(_=>{_&&u[e.Parser.camelCase(m)]!==void 0&&u[e.Parser.camelCase(_)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",m,_))})})},o.recommendCommands=function(u,m){m=m.sort((d,z)=>z.length-d.length);let A=null,y=1/0;for(let d=0,z;(z=m[d])!==void 0;d++){let L=vn(u,z);L<=3&&L<y&&(y=L,A=z)}A&&t.fail(n("Did you mean %s?",A))},o.reset=function(u){return a=St(a,m=>!u[m]),b=St(b,m=>!u[m]),o};let O=[];return o.freeze=function(){O.push({implied:a,conflicting:b})},o.unfreeze=function(){let u=O.pop();ot(u,void 0,e),{implied:a,conflicting:b}=u},o}var Ye=[],ie;function se(s,t,e,n){ie=n;let i={};if(Object.prototype.hasOwnProperty.call(s,"extends")){if(typeof s.extends!="string")return i;let o=/\.json|\..*rc$/.test(s.extends),a=null;if(o)a=Ji(t,s.extends);else try{a=wt.resolve(s.extends)}catch{return s}Qi(a),Ye.push(a),i=o?JSON.parse(ie.readFileSync(a,"utf8")):wt(s.extends),delete s.extends,i=se(i,ie.path.dirname(a),e,ie)}return Ye=[],e?Nn(i,s):Object.assign({},i,s)}function Qi(s){if(Ye.indexOf(s)>-1)throw new V(`Circular extended configurations: '${s}'.`)}function Ji(s,t){return ie.path.resolve(s,t)}function Nn(s,t){let e={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(e,s);for(let i of Object.keys(t))n(t[i])&&n(e[i])?e[i]=Nn(s[i],t[i]):e[i]=t[i];return e}var E=function(s,t,e,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?s!==t||!i:!t.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(s,e):i?i.value=e:t.set(s,e),e},r=function(s,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?s!==t||!n:!t.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(s):n?n.value:t.get(s)},tt,Rt,re,ut,lt,ge,It,Ut,be,dt,Oe,pt,yt,ct,mt,_e,Xt,st,I,we,ye,ft,Ht,kt,Yt,$t,Ce,W,Tt,Gt,Bt,N,je,Ct,X;function ei(s){return(t=[],e=s.process.cwd(),n)=>{let i=new ke(t,e,n,s);return Object.defineProperty(i,"argv",{get:()=>i.parse(),enumerable:!0}),i.help(),i.version(),i}}var Dn=Symbol("copyDoubleDash"),zn=Symbol("copyDoubleDash"),Te=Symbol("deleteFromParserHintObject"),Ln=Symbol("emitWarning"),Rn=Symbol("freeze"),Un=Symbol("getDollarZero"),Vt=Symbol("getParserConfiguration"),Hn=Symbol("getUsageConfiguration"),Ge=Symbol("guessLocale"),Yn=Symbol("guessVersion"),Tn=Symbol("parsePositionalNumbers"),Be=Symbol("pkgUp"),vt=Symbol("populateParserHintArray"),te=Symbol("populateParserHintSingleValueDictionary"),Ve=Symbol("populateParserHintArrayDictionary"),qe=Symbol("populateParserHintDictionary"),Ke=Symbol("sanitizeKey"),Qe=Symbol("setKey"),Je=Symbol("unfreeze"),Gn=Symbol("validateAsync"),Bn=Symbol("getCommandInstance"),Vn=Symbol("getContext"),qn=Symbol("getHasOutput"),Kn=Symbol("getLoggerInstance"),Qn=Symbol("getParseContext"),Jn=Symbol("getUsageInstance"),Zn=Symbol("getValidationInstance"),xe=Symbol("hasParseCallback"),Xn=Symbol("isGlobalContext"),qt=Symbol("postProcess"),kn=Symbol("rebase"),Ze=Symbol("reset"),oe=Symbol("runYargsParserAndExecuteCommands"),Xe=Symbol("runValidation"),ti=Symbol("setHasOutput"),Kt=Symbol("kTrackManuallySetKeys"),ke=class{constructor(t=[],e,n,i){this.customScriptName=!1,this.parsed=!1,tt.set(this,void 0),Rt.set(this,void 0),re.set(this,{commands:[],fullCommands:[]}),ut.set(this,null),lt.set(this,null),ge.set(this,"show-hidden"),It.set(this,null),Ut.set(this,!0),be.set(this,{}),dt.set(this,!0),Oe.set(this,[]),pt.set(this,void 0),yt.set(this,{}),ct.set(this,!1),mt.set(this,null),_e.set(this,!0),Xt.set(this,void 0),st.set(this,""),I.set(this,void 0),we.set(this,void 0),ye.set(this,{}),ft.set(this,null),Ht.set(this,null),kt.set(this,{}),Yt.set(this,{}),$t.set(this,void 0),Ce.set(this,!1),W.set(this,void 0),Tt.set(this,!1),Gt.set(this,!1),Bt.set(this,!1),N.set(this,void 0),je.set(this,{}),Ct.set(this,null),X.set(this,void 0),E(this,W,i,"f"),E(this,$t,t,"f"),E(this,Rt,e,"f"),E(this,we,n,"f"),E(this,pt,new de(this),"f"),this.$0=this[Un](),this[Ze](),E(this,tt,r(this,tt,"f"),"f"),E(this,N,r(this,N,"f"),"f"),E(this,X,r(this,X,"f"),"f"),E(this,I,r(this,I,"f"),"f"),r(this,I,"f").showHiddenOpt=r(this,ge,"f"),E(this,Xt,this[zn](),"f")}addHelpOpt(t,e){let n="help";return x("[string|boolean] [string]",[t,e],arguments.length),r(this,mt,"f")&&(this[Te](r(this,mt,"f")),E(this,mt,null,"f")),t===!1&&e===void 0?this:(E(this,mt,typeof t=="string"?t:n,"f"),this.boolean(r(this,mt,"f")),this.describe(r(this,mt,"f"),e||r(this,N,"f").deferY18nLookup("Show help")),this)}help(t,e){return this.addHelpOpt(t,e)}addShowHiddenOpt(t,e){if(x("[string|boolean] [string]",[t,e],arguments.length),t===!1&&e===void 0)return this;let n=typeof t=="string"?t:r(this,ge,"f");return this.boolean(n),this.describe(n,e||r(this,N,"f").deferY18nLookup("Show hidden options")),r(this,I,"f").showHiddenOpt=n,this}showHidden(t,e){return this.addShowHiddenOpt(t,e)}alias(t,e){return x("<object|string|array> [string|array]",[t,e],arguments.length),this[Ve](this.alias.bind(this),"alias",t,e),this}array(t){return x("<array|string>",[t],arguments.length),this[vt]("array",t),this[Kt](t),this}boolean(t){return x("<array|string>",[t],arguments.length),this[vt]("boolean",t),this[Kt](t),this}check(t,e){return x("<function> [boolean]",[t,e],arguments.length),this.middleware((n,i)=>Lt(()=>t(n,i.getOptions()),o=>(o?(typeof o=="string"||o instanceof Error)&&r(this,N,"f").fail(o.toString(),o):r(this,N,"f").fail(r(this,W,"f").y18n.__("Argument check failed: %s",t.toString())),n),o=>(r(this,N,"f").fail(o.message?o.message:o.toString(),o),n)),!1,e),this}choices(t,e){return x("<object|string|array> [string|array]",[t,e],arguments.length),this[Ve](this.choices.bind(this),"choices",t,e),this}coerce(t,e){if(x("<object|string|array> [function]",[t,e],arguments.length),Array.isArray(t)){if(!e)throw new V("coerce callback must be provided");for(let n of t)this.coerce(n,e);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!e)throw new V("coerce callback must be provided");return r(this,I,"f").key[t]=!0,r(this,pt,"f").addCoerceMiddleware((n,i)=>{let o;return Object.prototype.hasOwnProperty.call(n,t)?Lt(()=>(o=i.getAliases(),e(n[t])),c=>{n[t]=c;let b=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(o[t]&&b!==!0)for(let O of o[t])n[O]=c;return n},c=>{throw new V(c.message)}):n},t),this}conflicts(t,e){return x("<string|object> [string|array]",[t,e],arguments.length),r(this,X,"f").conflicts(t,e),this}config(t="config",e,n){return x("[object|string] [string|function] [function]",[t,e,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=se(t,r(this,Rt,"f"),this[Vt]()["deep-merge-config"]||!1,r(this,W,"f")),r(this,I,"f").configObjects=(r(this,I,"f").configObjects||[]).concat(t),this):(typeof e=="function"&&(n=e,e=void 0),this.describe(t,e||r(this,N,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{r(this,I,"f").config[i]=n||!0}),this)}completion(t,e,n){return x("[string] [string|boolean|function] [function]",[t,e,n],arguments.length),typeof e=="function"&&(n=e,e=void 0),E(this,lt,t||r(this,lt,"f")||"completion","f"),!e&&e!==!1&&(e="generate completion script"),this.command(r(this,lt,"f"),e),n&&r(this,ut,"f").registerFunction(n),this}command(t,e,n,i,o,a){return x("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,e,n,i,o,a],arguments.length),r(this,tt,"f").addHandler(t,e,n,i,o,a),this}commands(t,e,n,i,o,a){return this.command(t,e,n,i,o,a)}commandDir(t,e){x("<string> [object]",[t,e],arguments.length);let n=r(this,we,"f")||r(this,W,"f").require;return r(this,tt,"f").addDirectory(t,n,r(this,W,"f").getCallerFile(),e),this}count(t){return x("<array|string>",[t],arguments.length),this[vt]("count",t),this[Kt](t),this}default(t,e,n){return x("<object|string|array> [*] [string]",[t,e,n],arguments.length),n&&(ze(t,r(this,W,"f")),r(this,I,"f").defaultDescription[t]=n),typeof e=="function"&&(ze(t,r(this,W,"f")),r(this,I,"f").defaultDescription[t]||(r(this,I,"f").defaultDescription[t]=r(this,N,"f").functionDescription(e)),e=e.call()),this[te](this.default.bind(this),"default",t,e),this}defaults(t,e,n){return this.default(t,e,n)}demandCommand(t=1,e,n,i){return x("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,e,n,i],arguments.length),typeof e!="number"&&(n=e,e=1/0),this.global("_",!1),r(this,I,"f").demandedCommands._={min:t,max:e,minMsg:n,maxMsg:i},this}demand(t,e,n){return Array.isArray(e)?(e.forEach(i=>{ot(n,!0,r(this,W,"f")),this.demandOption(i,n)}),e=1/0):typeof e!="number"&&(n=e,e=1/0),typeof t=="number"?(ot(n,!0,r(this,W,"f")),this.demandCommand(t,e,n,n)):Array.isArray(t)?t.forEach(i=>{ot(n,!0,r(this,W,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,e){return x("<object|string|array> [string]",[t,e],arguments.length),this[te](this.demandOption.bind(this),"demandedOptions",t,e),this}deprecateOption(t,e){return x("<string> [string|boolean]",[t,e],arguments.length),r(this,I,"f").deprecatedOptions[t]=e,this}describe(t,e){return x("<object|string|array> [string]",[t,e],arguments.length),this[Qe](t,!0),r(this,N,"f").describe(t,e),this}detectLocale(t){return x("<boolean>",[t],arguments.length),E(this,Ut,t,"f"),this}env(t){return x("[string|boolean]",[t],arguments.length),t===!1?delete r(this,I,"f").envPrefix:r(this,I,"f").envPrefix=t||"",this}epilogue(t){return x("<string>",[t],arguments.length),r(this,N,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,e){return x("<string|array> [string]",[t,e],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):r(this,N,"f").example(t,e),this}exit(t,e){E(this,ct,!0,"f"),E(this,It,e,"f"),r(this,dt,"f")&&r(this,W,"f").process.exit(t)}exitProcess(t=!0){return x("[boolean]",[t],arguments.length),E(this,dt,t,"f"),this}fail(t){if(x("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new V("Invalid first argument. Expected function or boolean 'false'");return r(this,N,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,e){return x("<array> [function]",[t,e],arguments.length),e?r(this,ut,"f").getCompletion(t,e):new Promise((n,i)=>{r(this,ut,"f").getCompletion(t,(o,a)=>{o?i(o):n(a)})})}getDemandedOptions(){return x([],0),r(this,I,"f").demandedOptions}getDemandedCommands(){return x([],0),r(this,I,"f").demandedCommands}getDeprecatedOptions(){return x([],0),r(this,I,"f").deprecatedOptions}getDetectLocale(){return r(this,Ut,"f")}getExitProcess(){return r(this,dt,"f")}getGroups(){return Object.assign({},r(this,yt,"f"),r(this,Yt,"f"))}getHelp(){if(E(this,ct,!0,"f"),!r(this,N,"f").hasCachedHelpMessage()){if(!this.parsed){let e=this[oe](r(this,$t,"f"),void 0,void 0,0,!0);if(q(e))return e.then(()=>r(this,N,"f").help())}let t=r(this,tt,"f").runDefaultBuilderOn(this);if(q(t))return t.then(()=>r(this,N,"f").help())}return Promise.resolve(r(this,N,"f").help())}getOptions(){return r(this,I,"f")}getStrict(){return r(this,Tt,"f")}getStrictCommands(){return r(this,Gt,"f")}getStrictOptions(){return r(this,Bt,"f")}global(t,e){return x("<string|array> [boolean]",[t,e],arguments.length),t=[].concat(t),e!==!1?r(this,I,"f").local=r(this,I,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{r(this,I,"f").local.includes(n)||r(this,I,"f").local.push(n)}),this}group(t,e){x("<string|array> <string>",[t,e],arguments.length);let n=r(this,Yt,"f")[e]||r(this,yt,"f")[e];r(this,Yt,"f")[e]&&delete r(this,Yt,"f")[e];let i={};return r(this,yt,"f")[e]=(n||[]).concat(t).filter(o=>i[o]?!1:i[o]=!0),this}hide(t){return x("<string>",[t],arguments.length),r(this,I,"f").hiddenOptions.push(t),this}implies(t,e){return x("<string|object> [number|string|array]",[t,e],arguments.length),r(this,X,"f").implies(t,e),this}locale(t){return x("[string]",[t],arguments.length),t===void 0?(this[Ge](),r(this,W,"f").y18n.getLocale()):(E(this,Ut,!1,"f"),r(this,W,"f").y18n.setLocale(t),this)}middleware(t,e,n){return r(this,pt,"f").addMiddleware(t,!!e,n)}nargs(t,e){return x("<string|object|array> [number]",[t,e],arguments.length),this[te](this.nargs.bind(this),"narg",t,e),this}normalize(t){return x("<array|string>",[t],arguments.length),this[vt]("normalize",t),this}number(t){return x("<array|string>",[t],arguments.length),this[vt]("number",t),this[Kt](t),this}option(t,e){if(x("<string|object> [object]",[t,e],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof e!="object"&&(e={}),this[Kt](t),r(this,Ct,"f")&&(t==="version"||e?.alias==="version")&&this[Ln](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),r(this,I,"f").key[t]=!0,e.alias&&this.alias(t,e.alias);let n=e.deprecate||e.deprecated;n&&this.deprecateOption(t,n);let i=e.demand||e.required||e.require;i&&this.demand(t,i),e.demandOption&&this.demandOption(t,typeof e.demandOption=="string"?e.demandOption:void 0),e.conflicts&&this.conflicts(t,e.conflicts),"default"in e&&this.default(t,e.default),e.implies!==void 0&&this.implies(t,e.implies),e.nargs!==void 0&&this.nargs(t,e.nargs),e.config&&this.config(t,e.configParser),e.normalize&&this.normalize(t),e.choices&&this.choices(t,e.choices),e.coerce&&this.coerce(t,e.coerce),e.group&&this.group(t,e.group),(e.boolean||e.type==="boolean")&&(this.boolean(t),e.alias&&this.boolean(e.alias)),(e.array||e.type==="array")&&(this.array(t),e.alias&&this.array(e.alias)),(e.number||e.type==="number")&&(this.number(t),e.alias&&this.number(e.alias)),(e.string||e.type==="string")&&(this.string(t),e.alias&&this.string(e.alias)),(e.count||e.type==="count")&&this.count(t),typeof e.global=="boolean"&&this.global(t,e.global),e.defaultDescription&&(r(this,I,"f").defaultDescription[t]=e.defaultDescription),e.skipValidation&&this.skipValidation(t);let o=e.describe||e.description||e.desc,a=r(this,N,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof o=="string")&&this.describe(t,o),e.hidden&&this.hide(t),e.requiresArg&&this.requiresArg(t)}return this}options(t,e){return this.option(t,e)}parse(t,e,n){x("[string|array] [function|boolean|object] [function]",[t,e,n],arguments.length),this[Rn](),typeof t>"u"&&(t=r(this,$t,"f")),typeof e=="object"&&(E(this,Ht,e,"f"),e=n),typeof e=="function"&&(E(this,ft,e,"f"),e=!1),e||E(this,$t,t,"f"),r(this,ft,"f")&&E(this,dt,!1,"f");let i=this[oe](t,!!e),o=this.parsed;return r(this,ut,"f").setParsed(this.parsed),q(i)?i.then(a=>(r(this,ft,"f")&&r(this,ft,"f").call(this,r(this,It,"f"),a,r(this,st,"f")),a)).catch(a=>{throw r(this,ft,"f")&&r(this,ft,"f")(a,this.parsed.argv,r(this,st,"f")),a}).finally(()=>{this[Je](),this.parsed=o}):(r(this,ft,"f")&&r(this,ft,"f").call(this,r(this,It,"f"),i,r(this,st,"f")),this[Je](),this.parsed=o,i)}parseAsync(t,e,n){let i=this.parse(t,e,n);return q(i)?i:Promise.resolve(i)}parseSync(t,e,n){let i=this.parse(t,e,n);if(q(i))throw new V(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return x("<object>",[t],arguments.length),E(this,ye,t,"f"),this}pkgConf(t,e){x("<string> [string]",[t,e],arguments.length);let n=null,i=this[Be](e||r(this,Rt,"f"));return i[t]&&typeof i[t]=="object"&&(n=se(i[t],e||r(this,Rt,"f"),this[Vt]()["deep-merge-config"]||!1,r(this,W,"f")),r(this,I,"f").configObjects=(r(this,I,"f").configObjects||[]).concat(n)),this}positional(t,e){x("<string> <object>",[t,e],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];e=St(e,(a,c)=>a==="type"&&!["string","number","boolean"].includes(c)?!1:n.includes(a));let i=r(this,re,"f").fullCommands[r(this,re,"f").fullCommands.length-1],o=i?r(this,tt,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return Jt(o).forEach(a=>{let c=o[a];Array.isArray(c)?c.indexOf(t)!==-1&&(e[a]=!0):c[t]&&!(a in e)&&(e[a]=c[t])}),this.group(t,r(this,N,"f").getPositionalGroupName()),this.option(t,e)}recommendCommands(t=!0){return x("[boolean]",[t],arguments.length),E(this,Ce,t,"f"),this}required(t,e,n){return this.demand(t,e,n)}require(t,e,n){return this.demand(t,e,n)}requiresArg(t){return x("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&r(this,I,"f").narg[t]?this:(this[te](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,e){return x("[string] [string]",[t,e],arguments.length),t=t||this.$0,r(this,Xt,"f").log(r(this,ut,"f").generateCompletionScript(t,e||r(this,lt,"f")||"completion")),this}showHelp(t){if(x("[string|function]",[t],arguments.length),E(this,ct,!0,"f"),!r(this,N,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[oe](r(this,$t,"f"),void 0,void 0,0,!0);if(q(n))return n.then(()=>{r(this,N,"f").showHelp(t)}),this}let e=r(this,tt,"f").runDefaultBuilderOn(this);if(q(e))return e.then(()=>{r(this,N,"f").showHelp(t)}),this}return r(this,N,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,e){return x("[boolean|string] [string]",[t,e],arguments.length),r(this,N,"f").showHelpOnFail(t,e),this}showVersion(t){return x("[string|function]",[t],arguments.length),r(this,N,"f").showVersion(t),this}skipValidation(t){return x("<array|string>",[t],arguments.length),this[vt]("skipValidation",t),this}strict(t){return x("[boolean]",[t],arguments.length),E(this,Tt,t!==!1,"f"),this}strictCommands(t){return x("[boolean]",[t],arguments.length),E(this,Gt,t!==!1,"f"),this}strictOptions(t){return x("[boolean]",[t],arguments.length),E(this,Bt,t!==!1,"f"),this}string(t){return x("<array|string>",[t],arguments.length),this[vt]("string",t),this[Kt](t),this}terminalWidth(){return x([],0),r(this,W,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return x("<object>",[t],arguments.length),E(this,Ut,!1,"f"),r(this,W,"f").y18n.updateLocale(t),this}usage(t,e,n,i){if(x("<string|null|undefined> [string|boolean] [function|object] [function]",[t,e,n,i],arguments.length),e!==void 0){if(ot(t,null,r(this,W,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,e,n,i);throw new V(".usage() description must start with $0 if being used as alias for .command()")}else return r(this,N,"f").usage(t),this}usageConfiguration(t){return x("<object>",[t],arguments.length),E(this,je,t,"f"),this}version(t,e,n){let i="version";if(x("[boolean|string] [string] [string]",[t,e,n],arguments.length),r(this,Ct,"f")&&(this[Te](r(this,Ct,"f")),r(this,N,"f").version(void 0),E(this,Ct,null,"f")),arguments.length===0)n=this[Yn](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=e,e=void 0);return E(this,Ct,typeof t=="string"?t:i,"f"),e=e||r(this,N,"f").deferY18nLookup("Show version number"),r(this,N,"f").version(n||void 0),this.boolean(r(this,Ct,"f")),this.describe(r(this,Ct,"f"),e),this}wrap(t){return x("<number|null|undefined>",[t],arguments.length),r(this,N,"f").wrap(t),this}[(tt=new WeakMap,Rt=new WeakMap,re=new WeakMap,ut=new WeakMap,lt=new WeakMap,ge=new WeakMap,It=new WeakMap,Ut=new WeakMap,be=new WeakMap,dt=new WeakMap,Oe=new WeakMap,pt=new WeakMap,yt=new WeakMap,ct=new WeakMap,mt=new WeakMap,_e=new WeakMap,Xt=new WeakMap,st=new WeakMap,I=new WeakMap,we=new WeakMap,ye=new WeakMap,ft=new WeakMap,Ht=new WeakMap,kt=new WeakMap,Yt=new WeakMap,$t=new WeakMap,Ce=new WeakMap,W=new WeakMap,Tt=new WeakMap,Gt=new WeakMap,Bt=new WeakMap,N=new WeakMap,je=new WeakMap,Ct=new WeakMap,X=new WeakMap,Dn)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[zn](){return{log:(...t)=>{this[xe]()||console.log(...t),E(this,ct,!0,"f"),r(this,st,"f").length&&E(this,st,r(this,st,"f")+`
`,"f"),E(this,st,r(this,st,"f")+t.join(" "),"f")},error:(...t)=>{this[xe]()||console.error(...t),E(this,ct,!0,"f"),r(this,st,"f").length&&E(this,st,r(this,st,"f")+`
`,"f"),E(this,st,r(this,st,"f")+t.join(" "),"f")}}}[Te](t){Jt(r(this,I,"f")).forEach(e=>{if((i=>i==="configObjects")(e))return;let n=r(this,I,"f")[e];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete r(this,N,"f").getDescriptions()[t]}[Ln](t,e,n){r(this,be,"f")[n]||(r(this,W,"f").process.emitWarning(t,e),r(this,be,"f")[n]=!0)}[Rn](){r(this,Oe,"f").push({options:r(this,I,"f"),configObjects:r(this,I,"f").configObjects.slice(0),exitProcess:r(this,dt,"f"),groups:r(this,yt,"f"),strict:r(this,Tt,"f"),strictCommands:r(this,Gt,"f"),strictOptions:r(this,Bt,"f"),completionCommand:r(this,lt,"f"),output:r(this,st,"f"),exitError:r(this,It,"f"),hasOutput:r(this,ct,"f"),parsed:this.parsed,parseFn:r(this,ft,"f"),parseContext:r(this,Ht,"f")}),r(this,N,"f").freeze(),r(this,X,"f").freeze(),r(this,tt,"f").freeze(),r(this,pt,"f").freeze()}[Un](){let t="",e;return/\b(node|iojs|electron)(\.exe)?$/.test(r(this,W,"f").process.argv()[0])?e=r(this,W,"f").process.argv().slice(1,2):e=r(this,W,"f").process.argv().slice(0,1),t=e.map(n=>{let i=this[kn](r(this,Rt,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),r(this,W,"f").getEnv("_")&&r(this,W,"f").getProcessArgvBin()===r(this,W,"f").getEnv("_")&&(t=r(this,W,"f").getEnv("_").replace(`${r(this,W,"f").path.dirname(r(this,W,"f").process.execPath())}/`,"")),t}[Vt](){return r(this,ye,"f")}[Hn](){return r(this,je,"f")}[Ge](){if(!r(this,Ut,"f"))return;let t=r(this,W,"f").getEnv("LC_ALL")||r(this,W,"f").getEnv("LC_MESSAGES")||r(this,W,"f").getEnv("LANG")||r(this,W,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[Yn](){return this[Be]().version||"unknown"}[Tn](t){let e=t["--"]?t["--"]:t._;for(let n=0,i;(i=e[n])!==void 0;n++)r(this,W,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(e[n]=Number(i));return t}[Be](t){let e=t||"*";if(r(this,kt,"f")[e])return r(this,kt,"f")[e];let n={};try{let i=t||r(this,W,"f").mainFilename;!t&&r(this,W,"f").path.extname(i)&&(i=r(this,W,"f").path.dirname(i));let o=r(this,W,"f").findUp(i,(a,c)=>{if(c.includes("package.json"))return"package.json"});ot(o,void 0,r(this,W,"f")),n=JSON.parse(r(this,W,"f").readFileSync(o,"utf8"))}catch{}return r(this,kt,"f")[e]=n||{},r(this,kt,"f")[e]}[vt](t,e){e=[].concat(e),e.forEach(n=>{n=this[Ke](n),r(this,I,"f")[t].push(n)})}[te](t,e,n,i){this[qe](t,e,n,i,(o,a,c)=>{r(this,I,"f")[o][a]=c})}[Ve](t,e,n,i){this[qe](t,e,n,i,(o,a,c)=>{r(this,I,"f")[o][a]=(r(this,I,"f")[o][a]||[]).concat(c)})}[qe](t,e,n,i,o){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of Jt(n))t(a,n[a]);else o(e,this[Ke](n),i)}[Ke](t){return t==="__proto__"?"___proto___":t}[Qe](t,e){return this[te](this[Qe].bind(this),"key",t,e),this}[Je](){var t,e,n,i,o,a,c,b,O,p,u,m;let _=r(this,Oe,"f").pop();ot(_,void 0,r(this,W,"f"));let A;t=this,e=this,n=this,i=this,o=this,a=this,c=this,b=this,O=this,p=this,u=this,m=this,{options:{set value(y){E(t,I,y,"f")}}.value,configObjects:A,exitProcess:{set value(y){E(e,dt,y,"f")}}.value,groups:{set value(y){E(n,yt,y,"f")}}.value,output:{set value(y){E(i,st,y,"f")}}.value,exitError:{set value(y){E(o,It,y,"f")}}.value,hasOutput:{set value(y){E(a,ct,y,"f")}}.value,parsed:this.parsed,strict:{set value(y){E(c,Tt,y,"f")}}.value,strictCommands:{set value(y){E(b,Gt,y,"f")}}.value,strictOptions:{set value(y){E(O,Bt,y,"f")}}.value,completionCommand:{set value(y){E(p,lt,y,"f")}}.value,parseFn:{set value(y){E(u,ft,y,"f")}}.value,parseContext:{set value(y){E(m,Ht,y,"f")}}.value}=_,r(this,I,"f").configObjects=A,r(this,N,"f").unfreeze(),r(this,X,"f").unfreeze(),r(this,tt,"f").unfreeze(),r(this,pt,"f").unfreeze()}[Gn](t,e){return Lt(e,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[Bn].bind(this),getContext:this[Vn].bind(this),getHasOutput:this[qn].bind(this),getLoggerInstance:this[Kn].bind(this),getParseContext:this[Qn].bind(this),getParserConfiguration:this[Vt].bind(this),getUsageConfiguration:this[Hn].bind(this),getUsageInstance:this[Jn].bind(this),getValidationInstance:this[Zn].bind(this),hasParseCallback:this[xe].bind(this),isGlobalContext:this[Xn].bind(this),postProcess:this[qt].bind(this),reset:this[Ze].bind(this),runValidation:this[Xe].bind(this),runYargsParserAndExecuteCommands:this[oe].bind(this),setHasOutput:this[ti].bind(this)}}[Bn](){return r(this,tt,"f")}[Vn](){return r(this,re,"f")}[qn](){return r(this,ct,"f")}[Kn](){return r(this,Xt,"f")}[Qn](){return r(this,Ht,"f")||{}}[Jn](){return r(this,N,"f")}[Zn](){return r(this,X,"f")}[xe](){return!!r(this,ft,"f")}[Xn](){return r(this,_e,"f")}[qt](t,e,n,i){return n||q(t)||(e||(t=this[Dn](t)),(this[Vt]()["parse-positional-numbers"]||this[Vt]()["parse-positional-numbers"]===void 0)&&(t=this[Tn](t)),i&&(t=zt(t,this,r(this,pt,"f").getMiddleware(),!1))),t}[Ze](t={}){E(this,I,r(this,I,"f")||{},"f");let e={};e.local=r(this,I,"f").local||[],e.configObjects=r(this,I,"f").configObjects||[];let n={};e.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(c=>{n[c]=!0})}),Object.assign(r(this,Yt,"f"),Object.keys(r(this,yt,"f")).reduce((a,c)=>{let b=r(this,yt,"f")[c].filter(O=>!(O in n));return b.length>0&&(a[c]=b),a},{})),E(this,yt,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],o=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{e[a]=(r(this,I,"f")[a]||[]).filter(c=>!n[c])}),o.forEach(a=>{e[a]=St(r(this,I,"f")[a],c=>!n[c])}),e.envPrefix=r(this,I,"f").envPrefix,E(this,I,e,"f"),E(this,N,r(this,N,"f")?r(this,N,"f").reset(n):Sn(this,r(this,W,"f")),"f"),E(this,X,r(this,X,"f")?r(this,X,"f").reset(n):Wn(this,r(this,N,"f"),r(this,W,"f")),"f"),E(this,tt,r(this,tt,"f")?r(this,tt,"f").reset():An(r(this,N,"f"),r(this,X,"f"),r(this,pt,"f"),r(this,W,"f")),"f"),r(this,ut,"f")||E(this,ut,$n(this,r(this,N,"f"),r(this,tt,"f"),r(this,W,"f")),"f"),r(this,pt,"f").reset(),E(this,lt,null,"f"),E(this,st,"","f"),E(this,It,null,"f"),E(this,ct,!1,"f"),this.parsed=!1,this}[kn](t,e){return r(this,W,"f").path.relative(t,e)}[oe](t,e,n,i=0,o=!1){let a=!!n||o;t=t||r(this,$t,"f"),r(this,I,"f").__=r(this,W,"f").y18n.__,r(this,I,"f").configuration=this[Vt]();let c=!!r(this,I,"f").configuration["populate--"],b=Object.assign({},r(this,I,"f").configuration,{"populate--":!0}),O=r(this,W,"f").Parser.detailed(t,Object.assign({},r(this,I,"f"),{configuration:{"parse-positional-numbers":!1,...b}})),p=Object.assign(O.argv,r(this,Ht,"f")),u,m=O.aliases,_=!1,A=!1;Object.keys(p).forEach(y=>{y===r(this,mt,"f")&&p[y]?_=!0:y===r(this,Ct,"f")&&p[y]&&(A=!0)}),p.$0=this.$0,this.parsed=O,i===0&&r(this,N,"f").clearCachedHelpMessage();try{if(this[Ge](),e)return this[qt](p,c,!!n,!1);r(this,mt,"f")&&[r(this,mt,"f")].concat(m[r(this,mt,"f")]||[]).filter(T=>T.length>1).includes(""+p._[p._.length-1])&&(p._.pop(),_=!0),E(this,_e,!1,"f");let y=r(this,tt,"f").getCommands(),d=r(this,ut,"f").completionKey in p,z=_||d||o;if(p._.length){if(y.length){let L;for(let T=i||0,U;p._[T]!==void 0;T++)if(U=String(p._[T]),y.includes(U)&&U!==r(this,lt,"f")){let G=r(this,tt,"f").runCommand(U,this,O,T+1,o,_||A||o);return this[qt](G,c,!!n,!1)}else if(!L&&U!==r(this,lt,"f")){L=U;break}!r(this,tt,"f").hasDefaultCommand()&&r(this,Ce,"f")&&L&&!z&&r(this,X,"f").recommendCommands(L,y)}r(this,lt,"f")&&p._.includes(r(this,lt,"f"))&&!d&&(r(this,dt,"f")&&Mt(!0),this.showCompletionScript(),this.exit(0))}if(r(this,tt,"f").hasDefaultCommand()&&!z){let L=r(this,tt,"f").runCommand(null,this,O,0,o,_||A||o);return this[qt](L,c,!!n,!1)}if(d){r(this,dt,"f")&&Mt(!0),t=[].concat(t);let L=t.slice(t.indexOf(`--${r(this,ut,"f").completionKey}`)+1);return r(this,ut,"f").getCompletion(L,(T,U)=>{if(T)throw new V(T.message);(U||[]).forEach(G=>{r(this,Xt,"f").log(G)}),this.exit(0)}),this[qt](p,!c,!!n,!1)}if(r(this,ct,"f")||(_?(r(this,dt,"f")&&Mt(!0),a=!0,this.showHelp("log"),this.exit(0)):A&&(r(this,dt,"f")&&Mt(!0),a=!0,r(this,N,"f").showVersion("log"),this.exit(0))),!a&&r(this,I,"f").skipValidation.length>0&&(a=Object.keys(p).some(L=>r(this,I,"f").skipValidation.indexOf(L)>=0&&p[L]===!0)),!a){if(O.error)throw new V(O.error.message);if(!d){let L=this[Xe](m,{},O.error);n||(u=zt(p,this,r(this,pt,"f").getMiddleware(),!0)),u=this[Gn](L,u??p),q(u)&&!n&&(u=u.then(()=>zt(p,this,r(this,pt,"f").getMiddleware(),!1)))}}}catch(y){if(y instanceof V)r(this,N,"f").fail(y.message,y);else throw y}return this[qt](u??p,c,!!n,!0)}[Xe](t,e,n,i){let o={...this.getDemandedOptions()};return a=>{if(n)throw new V(n.message);r(this,X,"f").nonOptionCount(a),r(this,X,"f").requiredArguments(a,o);let c=!1;r(this,Gt,"f")&&(c=r(this,X,"f").unknownCommands(a)),r(this,Tt,"f")&&!c?r(this,X,"f").unknownArguments(a,t,e,!!i):r(this,Bt,"f")&&r(this,X,"f").unknownArguments(a,t,{},!1,!1),r(this,X,"f").limitedChoices(a),r(this,X,"f").implications(a),r(this,X,"f").conflicting(a)}}[ti](){E(this,ct,!0,"f")}[Kt](t){if(typeof t=="string")r(this,I,"f").key[t]=!0;else for(let e of t)r(this,I,"f").key[e]=!0}};function En(s){return!!s&&typeof s.getInternalMethods=="function"}var Zi=ei(De),ni=Zi;await ni(We(process.argv)).scriptName("markex").command("readme","desc todo",s=>s,s=>{console.log("Running readme command with:",s)}).command(["$0 <file..>","expand <file..>"],"desc todo",s=>s.positional("file",{demandOption:!0,describe:"TODO",type:"string"}),s=>{console.log("Running expand command with:",s)}).demandCommand(1,"You must provide at least one command or file").option("flag",{describe:"An example flag",type:"string"}).option("another-flag",{describe:"Another example flag",type:"string"}).option("output",{describe:"Output file",type:"string"}).alias("h","help").version("version",tn).alias("v","version").help().parse();
/*! Bundled license information:

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)
*/
